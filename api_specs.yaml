openapi: 3.0.0
info:
  title: Straw Hat Team Comprehensive API
  version: 1.0.0
  description: API for a full-featured Product/SaaS platform including authentication, payments, user management, and more.

paths:
  # Authentication

  /auth/register:
    post:
      summary: Create a new user account
      tags:
        - Authentication
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RegisterRequest'
      responses:
        '201':
          description: Account created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RegisterResponse'
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestError'
        '409':
          description: Conflict - Email already exists
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InputConflictError'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerError'

  /auth/login:
    post:
      summary: Log in a user and generate access token
      tags:
        - Authentication
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LoginRequest'
      responses:
        '200':
          description: Successful login
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LoginResponse'
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestError'
        '401':
          description: Unauthorized - Invalid credentials
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UnauthorizedError'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerError'

  /auth/social/{provider}/callback:
    get:
      summary: Handle callback from social authentication provider
      tags:
        - Authentication
      parameters:
        - in: path
          name: provider
          required: true
          schema:
            type: string
            enum: [google, facebook, twitter]
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SocialLoginRequest'
      responses:
        '200':
          description: Successful callback
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LoginResponse'
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestError'
        '401':
          description: Unauthorized - Invalid credentials
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UnauthorizedError'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerError'

  /auth/magic-link:
    post:
      summary: Send a magic link for passwordless authentication
      tags:
        - Authentication
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MagicLinkRequest'
      responses:
        '200':
          description: Magic link sent successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MagicLinkResponse'
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestError'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerError'

  /auth/magic-link/verify:
    get:
      summary: Verify magic link authentication
      tags:
        - Authentication
      parameters:
        - in: query
          name: token
          required: true
          schema:
            type: string
          description: The magic link token to verify
      responses:
        '200':
          description: Magic link verified successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LoginResponse'
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestError'
        '401':
          description: Unauthorized - Invalid token
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MagicLinkUnauthorizedError'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerError'

  /auth/change-password:
    post:
      summary: Change logged in user password
      tags:
        - Authentication
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ChangePasswordRequest'
      responses:
        '200':
          description: Password changed successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ChangePasswordResponse'
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestError'
        '401':
          description: Unauthorized - Invalid credentials
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PasswordResetUnauthorizedError'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerError'

  /auth/forgot-password:
    post:
      summary: Request password reset
      tags:
        - Authentication
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ResetPasswordRequest'
      responses:
        '200':
          description: Password reset link sent successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResetPasswordResponse'
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestError'
        '404':
          description: Not found - Email not registered
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFoundError'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerError'

  # User Management
  /users:
    get:
      summary: List users (for admin)
      tags:
        - User Management
      responses:
        '200':
          description: A list of users
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserListResponse'
    post:
      summary: Create a new user (for admin)
      tags:
        - User Management
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateUserRequest'
      responses:
        '200':
          description: User created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserResponse'

  /users/{id}:
    get:
      summary: Get user details
      tags:
        - User Management
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        '200':
          description: User details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserResponse'
    put:
      summary: Update user details
      tags:
        - User Management
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateUserRequest'
      responses:
        '200':
          description: User updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserResponse'
    delete:
      summary: Delete a user
      tags:
        - User Management
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        '204':
          description: User deleted successfully

  # Organization Management
  /orgs:
    get:
      summary: List organizations
      tags:
        - Organization Management
      responses:
        '200':
          description: A list of all organizations
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrganizationListResponse'
    post:
      summary: Create a new organization
      tags:
        - Organization Management
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateOrganizationRequest'
      responses:
        '200':
          description: Organization created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrganizationResponse'

  /orgs/{id}:
    get:
      summary: Get organization details
      tags:
        - Organization Management
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Organization details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrganizationResponse'
    put:
      summary: Update organization details
      tags:
        - Organization Management
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateOrganizationRequest'
      responses:
        '200':
          description: Organization updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrganizationResponse'
    delete:
      summary: Delete an organization
      tags:
        - Organization Management
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        '204':
          description: Organization deleted successfully

  # Superadmin Interface
  /admin/users:
    get:
      summary: List all users (admin)
      tags:
        - Superadmin Interface
      responses:
        '200':
          description: List of all users
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserListResponse'
  /admin/users/{id}:
    get:
      summary: Get user details (admin)
      tags:
        - Superadmin Interface
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: User details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserResponse'
  /admin/orgs:
    get:
      summary: List all organizations (admin)
      tags:
        - Superadmin Interface
      responses:
        '200':
          description: List of all organizations
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrganizationListResponse'
  /admin/orgs/{id}:
    get:
      summary: Get organization details (admin)
      tags:
        - Superadmin Interface
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Organization details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrganizationResponse'
  /admin/payments:
    get:
      summary: List all payments (admin)
      tags:
        - Superadmin Interface
      responses:
        '200':
          description: List of all payments
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
  /admin/activity-logs:
    get:
      summary: List all activity logs (admin)
      tags:
        - Superadmin Interface
      responses:
        '200':
          description: List of all activity logs
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object

  # Settings and Profile
  /settings:
    get:
      summary: Get settings
      tags:
        - Settings and Profile
      responses:
        '200':
          description: Settings details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SettingsResponse'
    post:
      summary: Create settings
      tags:
        - Settings and Profile
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateSettingsRequest'
      responses:
        '201':
          description: Settings created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SettingsResponse'
  /settings/{id}:
    put:
      summary: Update settings
      tags:
        - Settings and Profile
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateSettingsRequest'
      responses:
        '200':
          description: Settings updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SettingsResponse'
    delete:
      summary: Delete settings
      tags:
        - Settings and Profile
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        '204':
          description: Settings deleted successfully
  /profile/settings:
    get:
      summary: Get profile settings
      tags:
        - Settings and Profile
      responses:
        '200':
          description: Profile settings details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProfileSettingsResponse'
    put:
      summary: Update profile settings
      tags:
        - Settings and Profile
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateProfileSettingsRequest'
      responses:
        '200':
          description: Profile settings updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProfileSettingsResponse'

  # Landing and Static Pages
  /:
    get:
      summary: Get landing page
      tags:
        - Landing and Static Pages
      responses:
        '200':
          description: Landing page content
          content:
            text/html:
              schema:
                type: string
  /privacy-policy:
    get:
      summary: Get privacy policy page
      tags:
        - Landing and Static Pages
      responses:
        '200':
          description: Privacy policy page content
          content:
            text/html:
              schema:
                type: string
  /about-us:
    get:
      summary: Get about us page
      tags:
        - Landing and Static Pages
      responses:
        '200':
          description: About us page content
          content:
            text/html:
              schema:
                type: string
  /contact-us:
    get:
      summary: Get contact us page
      tags:
        - Landing and Static Pages
      responses:
        '200':
          description: Contact us page content
          content:
            text/html:
              schema:
                type: string

  # Payments
  /payments/stripe:
    post:
      summary: Process a Stripe payment
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/StripePaymentRequest'
      responses:
        '200':
          description: Payment processed successfully

  /payments/flutterwave:
    post:
      summary: Process a Flutterwave payment
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/FlutterwavePaymentRequest'
      responses:
        '200':
          description: Payment processed successfully

  /payments/lemonsqueezy:
    post:
      summary: Process a LemonSqueezy payment
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LemonSqueezyPaymentRequest'
      responses:
        '200':
          description: Payment processed successfully

  # Messaging

  /email/send:
    post:
      summary: Send an email using a predefined template
      tags:
        - Messaging
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SendEmailRequest'
      responses:
        '200':
          description: Email sent successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SendEmailResponse'
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestError'
        '409':
          description: Conflict - Input conflict error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TemplateConflictError'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerError'

  /email/templates:
    get:
      summary: Get all email templates
      tags:
        - Messaging
      responses:
        '200':
          description: Successful retrieval of email templates
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EmailTemplatesResponse'
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestError'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerError'
    post:
      summary: Create a new email template
      tags:
        - Messaging
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateEmailTemplateRequest'
      responses:
        '201':
          description: Email template created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CreateEmailTemplateResponse'
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestError'
        '409':
          description: Input conflict error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ConflictError'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerError'

  /email/templates/{id}:
    get:
      summary: Get an email template by ID
      tags:
        - Messaging
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
            format: int64
          description: The ID of the email template
      responses:
        '200':
          description: Successful retrieval of email template
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EmailTemplate'
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestError'
        '404':
          description: Not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TemplateNotFoundError'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerError'
    put:
      summary: Update an email template by ID
      tags:
        - Messaging
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
            format: int64
          description: The ID of the email template
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EmailTemplateUpdateRequest'
      responses:
        '200':
          description: Successful update of email template
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EmailTemplate'
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestError'
        '404':
          description: Not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TemplateNotFoundError'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerError'
    delete:
      summary: Delete an email template by ID
      tags:
        - Messaging
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
            format: int64
          description: The ID of the email template
      responses:
        '204':
          description: Successful deletion of email template
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestError'
        '404':
          description: Not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TemplateNotFoundError'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerError'

  # GDPR
  /gdpr/consent:
    post:
      summary: Record user consent for GDPR
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ConsentRequest'
      responses:
        '200':
          description: Consent recorded successfully

  # Dashboard Data
  /dashboard:
    get:
      summary: Get dashboard data
      responses:
        '200':
          description: Dashboard data
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DashboardDataResponse'

  # Waitlist
  /waitlist:
    post:
      summary: Join the waitlist
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/WaitlistRequest'
      responses:
        '200':
          description: Successfully joined the waitlist

  # Invite System
  /invites:
    post:
      summary: Create an invite
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateInviteRequest'
      responses:
        '200':
          description: Invite created successfully
    get:
      summary: List invites
      responses:
        '200':
          description: A list of invites
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InviteListResponse'

  /invites/{inviteId}/accept:
    post:
      summary: Accept an invite
      parameters:
        - in: path
          name: inviteId
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Invite accepted successfully

  # User Associated Data
  /user-data:
    get:
      summary: List user associated data
      responses:
        '200':
          description: A list of user associated data
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserDataListResponse'
    post:
      summary: Create new user associated data
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateUserDataRequest'
      responses:
        '200':
          description: User data created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserDataResponse'

  /user-data/{dataId}:
    get:
      summary: Get single user data item
      parameters:
        - in: path
          name: dataId
          required: true
          schema:
            type: string
      responses:
        '200':
          description: User data item
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserDataResponse'
    put:
      summary: Update user data item
      parameters:
        - in: path
          name: dataId
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateUserDataRequest'
      responses:
        '200':
          description: User data item updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserDataResponse'
    delete:
      summary: Delete user data item
      parameters:
        - in: path
          name: dataId
          required: true
          schema:
            type: string
      responses:
        '204':
          description: User data item deleted successfully

  # Search and Sort
  /search:
    get:
      summary: Search across various data types
      parameters:
        - in: query
          name: query
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Search results
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SearchResponse'

  # Analytics
  /analytics/chart:
    get:
      summary: Get chart data for analytics
      responses:
        '200':
          description: Chart data
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ChartDataResponse'

  # Notifications
  /notifications:
    get:
      summary: List user notifications
      responses:
        '200':
          description: A list of notifications
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotificationListResponse'
    post:
      summary: Create a new notification
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateNotificationRequest'
      responses:
        '200':
          description: Notification created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotificationResponse'

  # Blog
  /blog:
    get:
      summary: List blog posts
      responses:
        '200':
          description: A list of blog posts
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BlogPostListResponse'
    post:
      summary: Create a new blog post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateBlogPostRequest'
      responses:
        '200':
          description: Blog post created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BlogPostResponse'

  /blog/{postId}:
    get:
      summary: Get blog post details
      parameters:
        - in: path
          name: postId
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Blog post details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BlogPostResponse'
    put:
      summary: Update blog post
      parameters:
        - in: path
          name: postId
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateBlogPostRequest'
      responses:
        '200':
          description: Blog post updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BlogPostResponse'
    delete:
      summary: Delete a blog post
      parameters:
        - in: path
          name: postId
          required: true
          schema:
            type: string
      responses:
        '204':
          description: Blog post deleted successfully

  # Language and Region
  /localization:
    get:
      summary: Get available languages and regions
      responses:
        '200':
          description: Available languages and regions
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LocalizationResponse'
    put:
      summary: Update user's language and region preferences
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateLocalizationRequest'
      responses:
        '200':
          description: Localization preferences updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LocalizationResponse'

components:
  schemas:
    #Errors
    BadRequestError:
      type: object
      properties:
        errors:
          type: array
          items:
            type: object
            properties:
              field:
                type: string
                example: field_name
              message:
                type: string
                example: 'Error message for bad request.'

    InputConflictError:
      type: object
      properties:
        errors:
          type: array
          items:
            type: object
            properties:
              field:
                type: string
                example: email
              message:
                type: string
                example: 'User with email address already exists.'

    ConflictError:
      type: object
      properties:
        errors:
          type: array
          items:
            type: object
            properties:
              field:
                type: string
                example: field_name
              message:
                type: string
                example: 'Conflict error message.'

    TemplateConflictError:
      type: object
      properties:
        errors:
          type: array
          items:
            type: object
            properties:
              field:
                type: string
                example: templateId
              message:
                type: string
                example: 'Template ID conflict.'

    NotFoundError:
      type: object
      properties:
        errors:
          type: array
          items:
            type: object
            properties:
              field:
                type: string
                example: email
              message:
                type: string
                example: 'Email not found.'

    TemplateNotFoundError:
      type: object
      properties:
        errors:
          type: array
          items:
            type: object
            properties:
              field:
                type: string
                example: resource_id
              message:
                type: string
                example: 'Resource not found.'

    InternalServerError:
      type: object
      properties:
        errors:
          type: array
          items:
            type: object
            properties:
              field:
                type: string
                example: server
              message:
                type: string
                example: 'Internal server error.'

    UnauthorizedError:
      type: object
      properties:
        errors:
          type: array
          items:
            type: object
            properties:
              field:
                type: string
                example: email or password
              message:
                type: string
                example: 'Invalid credentials.'

    MagicLinkUnauthorizedError:
      type: object
      properties:
        errors:
          type: array
          items:
            type: object
            properties:
              field:
                type: string
                example: token
              message:
                type: string
                example: 'Invalid Verifcation Token.'

    PasswordResetUnauthorizedError:
      type: object
      properties:
        errors:
          type: array
          items:
            type: object
            properties:
              field:
                type: string
                example: old password
              message:
                type: string
                example: 'Invalid credentials.'

    # Authentication
    RegisterRequest:
      type: object
      required:
        - firstName
        - lastName
        - email
        - password
      properties:
        firstName:
          type: string
          example: John
        lastName:
          type: string
          example: Doe
        email:
          type: string
          format: email
          example: johndoe@example.com
        password:
          type: string
          format: password
          example: $trongPassword123

    RegisterResponse:
      type: object
      properties:
        userId:
          type: string
          example: 1a2b3c4d5e6f7g8h9i0j
        firstName:
          type: string
          format: string
          example: john
        lastName:
          type: string
          format: string
          example: doe
        email:
          type: string
          format: email
          example: johndoe@example.com
        token:
          type: string
          example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

    LoginRequest:
      type: object
      properties:
        email:
          type: string
        password:
          type: string

    LoginResponse:
      type: object
      properties:
        userId:
          type: string
          example: 1a2b3c4d5e6f7g8h9i0j
        firstName:
          type: string
          format: string
          example: John
        lastName:
          type: string
          format: string
          example: Doe
        uniqueId:
          type: string
          example: john_doe-123
        email:
          type: string
          format: email
          example: johndoe@example.com
        token:
          type: string
          example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

    SocialLoginRequest:
      type: object
      properties:
        token:
          type: string

    MagicLinkRequest:
      type: object
      properties:
        email:
          type: string
          example: johndoe@example.com

    MagicLinkResponse:
      type: object
      properties:
        message:
          type: string
          example: Magic link sent to your email.

    ChangePasswordRequest:
      type: object
      properties:
        oldPassword:
          type: string
          example: $trongPassword123
        newPassword:
          type: string
          example: $newStrongPassword123
        confirmNewPassword:
          type: string
          example: $newStrongPassword123

    ChangePasswordResponse:
      type: object
      properties:
        message:
          type: string
          example: Password updated successfully.

    ResetPasswordRequest:
      type: object
      properties:
        email:
          type: email
          example: johndoe@example.com

    ResetPasswordResponse:
      type: object
      properties:
        message:
          type: string
          example: Password reset link sent to your email.

    RefreshTokenRequest:
      type: object

    AuthResponse:
      type: object
      properties:
        accessToken:
          type: string
        refreshToken:
          type: string

    # User Management
    CreateUserRequest:
      type: object
      properties:
        username:
          type: string
        email:
          type: string
        password:
          type: string
    UpdateUserRequest:
      type: object
      properties:
        username:
          type: string
        email:
          type: string
    UserResponse:
      type: object
      properties:
        id:
          type: string
        username:
          type: string
        email:
          type: string
    UserListResponse:
      type: object
      properties:
        users:
          type: array
          items:
            $ref: '#/components/schemas/UserResponse'

    # Organization Management
    CreateOrganizationRequest:
      type: object
      properties:
        name:
          type: string
        address:
          type: string
    UpdateOrganizationRequest:
      type: object
      properties:
        name:
          type: string
        address:
          type: string
    OrganizationResponse:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
        address:
          type: string
    OrganizationListResponse:
      type: object
      properties:
        organizations:
          type: array
          items:
            $ref: '#/components/schemas/OrganizationResponse'

    # Payments
    StripePaymentRequest:
      type: object
      properties:
        amount:
          type: number
        currency:
          type: string
        source:
          type: string
    FlutterwavePaymentRequest:
      type: object
      properties:
        amount:
          type: number
        currency:
          type: string
        source:
          type: string
    LemonSqueezyPaymentRequest:
      type: object
      properties:
        amount:
          type: number
        currency:
          type: string
        source:
          type: string

    # Messaging

    SendEmailRequest:
      type: object
      properties:
        recipient:
          type: string
          example: user@example.com
        subject:
          type: string
          example: 'Welcome to Our Service'
        templateId:
          type: integer
          example: 1
        data:
          type: object
          additionalProperties:
            type: string

    SendEmailResponse:
      type: object
      properties:
        messageId:
          type: string
          example: '1234567890abcdef'
        status:
          type: string
          example: 'Message sent successfully'

    EmailTemplatesResponse:
      type: object
      properties:
        templates:
          type: array
          items:
            type: object
            properties:
              id:
                type: integer
                example: 1
              name:
                type: string
                example: 'Welcome Email'
              subject:
                type: string
                example: 'Welcome to Our Service'
              body:
                type: string
                example: '<p>Hello, welcome to our service!</p>'

    CreateEmailTemplateRequest:
      type: object
      properties:
        name:
          type: string
        subject:
          type: string
        body:
          type: string
      required:
        - name
        - subject
        - body

    CreateEmailTemplateResponse:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
        subject:
          type: string
        body:
          type: string
        created_at:
          type: string
          format: date-time

    EmailTemplate:
      type: object
      properties:
        id:
          type: integer
          format: int64
        name:
          type: string
        subject:
          type: string
        body:
          type: string
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time

    EmailTemplateUpdateRequest:
      type: object
      properties:
        name:
          type: string
        subject:
          type: string
        body:
          type: string

    # CreateEmailTemplateRequest:
    #   type: object
    #   properties:
    #     name:
    #       type: string
    #     subject:
    #       type: string
    #     body:
    #       type: string
    # UpdateEmailTemplateRequest:
    #   type: object
    #   properties:
    #     name:
    #       type: string
    #     subject:
    #       type: string
    #     body:
    #       type: string
    # EmailTemplateResponse:
    #   type: object
    #   properties:
    #     id:
    #       type: string
    #     name:
    #       type: string
    #     subject:
    #       type: string
    #     body:
    #       type: string
    # EmailTemplateListResponse:
    #   type: object
    #   properties:
    #     templates:
    #       type: array
    #       items:
    #         $ref: '#/components/schemas/EmailTemplateResponse'

    # Settings
    CreateSettingsRequest:
      type: object
      properties:
        key:
          type: string
        value:
          type: string
    UpdateSettingsRequest:
      type: object
      properties:
        key:
          type: string
        value:
          type: string
    SettingsResponse:
      type: object
      properties:
        id:
          type: string
        key:
          type: string
        value:
          type: string

    # Profile Settings
    UpdateProfileSettingsRequest:
      type: object
      properties:
        key:
          type: string
        value:
          type: string
    ProfileSettingsResponse:
      type: object
      properties:
        key:
          type: string
        value:
          type: string

    # Contact Form
    ContactFormRequest:
      type: object
      properties:
        name:
          type: string
        email:
          type: string
        message:
          type: string

    # GDPR
    ConsentRequest:
      type: object
      properties:
        consent:
          type: string

    # Dashboard Data
    DashboardDataResponse:
      type: object
      properties:
        data:
          type: object

    # Waitlist
    WaitlistRequest:
      type: object
      properties:
        email:
          type: string

    # Invite System
    CreateInviteRequest:
      type: object
      properties:
        email:
          type: string
        role:
          type: string
    InviteListResponse:
      type: object
      properties:
        invites:
          type: array
          items:
            $ref: '#/components/schemas/InviteResponse'
    InviteResponse:
      type: object
      properties:
        id:
          type: string
        email:
          type: string
        role:
          type: string

    # User Associated Data
    CreateUserDataRequest:
      type: object
      properties:
        type:
          type: string
        data:
          type: object
    UpdateUserDataRequest:
      type: object
      properties:
        type:
          type: string
        data:
          type: object
    UserDataResponse:
      type: object
      properties:
        id:
          type: string
        type:
          type: string
        data:
          type: object
    UserDataListResponse:
      type: object
      properties:
        userData:
          type: array
          items:
            $ref: '#/components/schemas/UserDataResponse'

    # Search and Sort
    SearchResponse:
      type: object
      properties:
        results:
          type: array
          items:
            type: object

    # Analytics
    ChartDataResponse:
      type: object
      properties:
        chartData:
          type: object

    # Notifications
    CreateNotificationRequest:
      type: object
      properties:
        title:
          type: string
        message:
          type: string
    NotificationResponse:
      type: object
      properties:
        id:
          type: string
        title:
          type: string
        message:
          type: string
    NotificationListResponse:
      type: object
      properties:
        notifications:
          type: array
          items:
            $ref: '#/components/schemas/NotificationResponse'

    # Blog
    CreateBlogPostRequest:
      type: object
      properties:
        title:
          type: string
        content:
          type: string
    UpdateBlogPostRequest:
      type: object
      properties:
        title:
          type: string
        content:
          type: string
    BlogPostResponse:
      type: object
      properties:
        id:
          type: string
        title:
          type: string
        content:
          type: string
    BlogPostListResponse:
      type: object
      properties:
        posts:
          type: array
          items:
            $ref: '#/components/schemas/BlogPostResponse'

    # Language and Region
    LocalizationResponse:
      type: object
      properties:
        languages:
          type: array
          items:
            type: string
        regions:
          type: array
          items:
            type: string
    UpdateLocalizationRequest:
      type: object
      properties:
        language:
          type: string
        region:
          type: string

  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT